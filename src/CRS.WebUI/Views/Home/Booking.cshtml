@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{ 
    int totalPax = ViewBag.TotalPax ?? 0;
    var roomTypeNames = ViewBag.RoomTypeNames as System.Collections.Generic.List<string> ?? new System.Collections.Generic.List<string>();
}



<title>Hotel Room Reservation - Checkout</title>

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<style type="text/css">
    .bg-primary {
        background: #7b584f !important
    }

    .btn-primary, .btn-success {
        background: #7b584f !important;
        padding: 15px 22px !important;
        border: 0;
    }

    .form-row {
        font-size: 24px;
    }

    .form-control {
        padding: 5px 22px !important;
        height: auto;
        border: #c5c5c5 solid 2px;
        font-size: 14px
    }

    #reservationForm {
        background: #e9e9e978;
        padding: 29px;
        border-radius: 20px;
        margin-bottom: 60px;
    }

    #reviewAndPayment, #confirmation {
        background: #e9e9e978;
        padding: 29px;
        border-radius: 20px;
    }

    .addon-card {
        position: relative;
    }

        .addon-card .form-check-input {
            right: 14px;
        }

    .addguest_title {
        font-size: 14px;
        width: 100%;
        padding: 11px 0 14px 17px;
        border-bottom: #ccc solid 1px;
    }

    .card1 {
        border: 1px solid #ddd;
        border-radius: 12px;
        padding: 0 0 16px 0;
        font-size: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        background-color: #f9f9f9;
    }

    .ageSelector {
        width: 100px;
    }

    .gSelect {
        gap: 10px;
    }

    .card1 h4 {
        background: #d3c2bd63;
        color: black;
        padding: 12px 16px;
        font-size: 18px;
        margin-bottom: 10px;
        margin-left: -15px;
        margin-right: -15px;
        border-top-left-radius: 12px;
        border-top-right-radius: 12px;
        border-bottom: #ccc solid 1px;
    }

    .list_form {
        display: flex;
        flex-wrap: wrap;
    }

    .h2, h2 {
        font-size: 24px;
    }

    /*  .col-md-3 {
                                    padding-right: 5px;
                                    padding-left: 5px;
                                    } */
    .gSelect .form-control {
        padding: 5px 9px !important;
    }

    .container {
        max-width: 1450px;
    }

    .guestList {
        gap: 10px;
        flex-wrap: inherit;
    }

    .footer[b-wvlon0mgsf] {
        position: relative;
        margin-top: 30px;
    }

    .guestListOuterBlock {
        margin: 15px;
    }
</style>
<link href="~/customcss/index.css" rel="stylesheet" />



<div class="cCtaoiner">
    <h2 class="text-center">Room Reservation</h2>


    <div id="reservationForm" class="container">
        <div class="row">
            <div class="col-md-8">
                <form id="bookingForm">
                    <!-- Card start -->
                    <div class="card1">
                        <div class="form-group col-md-12 m-0">
                            <h4>Contact Details</h4>
                        </div>
                        <div class="list_form ">
                            <div class="form-group col-md-6">
                                <label for="numGuests">Email</label>
                                <input type="email" class="form-control" id="emailInput" placeholder="" required name="Email" value="">
                                <button type="button" id="sendCodeBtn" class="btn btn-secondary mt-2" style="display:none;">Send Verification Code</button>
                                <input type="text" class="form-control mt-2" id="emailCodeInput" placeholder="Enter 6-digit code" style="display:none;" />

                                <button type="button" id="verifyCodeBtn" class="btn btn-success mt-2" style="display:none;">Verify Code</button>

                                <small id="emailVerificationStatus" class="form-text text-muted"></small>
                            </div>

                            <div class="form-group col-md-6">
                                <label for="numGuests">Phone Number</label>
                                <input type="number" name="PhoneNumber" class="form-control" id="phoneNumber" placeholder="" required value="">
                            </div>

                        </div>

                    </div>


                    <div class="card1">
                        <div class="form-group col-md-12 m-0">
                            <h4>Guest Details </h4>
                        </div>
                        @{
                            //totalPax = 1;
                        }
                        @for (int i = 0; i < totalPax; i++)
                        {
                            <div class="guestListOuterBlock">
                                <h6>@($"Guest {i + 1} - {(roomTypeNames.Count > i ? roomTypeNames[i] : string.Empty)}")</h6>
                                <div class="list_form guestList">

                                    <div class="form-group">
                                        <input type="text" class="form-control" name="Guests[@i].FirstName" placeholder="First Name" id="guestFirstName_@i" name="Guests[@i].FirstName" required value="" />
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" name="Guests[@i].LastName" placeholder="Last Name" id="guestLastName_@i" name="Guests[@i].LastName" value="" />
                                    </div>
                                    <div class="form-group ">

                                        <input type="text" class="form-control" name="Guests[@i].MiddleName" placeholder="Middle Name" id="guestMiddleName_@i" name="Guests[@i].MiddleName" />
                                    </div>
                                    <div class="form-group ">

                                        <div class="genderSelection">
                                            <select class="form-control" id="guestGender_@i" name="Guests[@i].GenderId">
                                                <option value="" disabled selected>Gender</option>                                                
                                            </select>
                                            <input type="hidden" id="guestGenderName_@i" name="Guests[@i].Gender" />
                                        </div>


                                    </div>
                                    <div class="form-group ">

                                        <div class="ageSelector">

                                            <input type="number" placeholder="Age" name="Guests[@i].Age" class="form-control" id="guestAge_@i" name="Guests[@i].Age" min="14" value="" />
                                        </div>


                                    </div>
                                </div>
                            </div>
                        }
                    </div>


                    <div class="card1">
                        <div class="form-group col-md-12 m-0">
                            <h4>Address</h4>
                        </div>
                        <div class="list_form ">
                            <div class="form-group col-md-12">
                                <label for="address">Address</label>
                                <textarea rows="3" class="form-control" name="Address" id="address"></textarea>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="country">Country</label>
                                <input type="text" name="Country" class="form-control" id="country" required value="">
                            </div>


                            <div class="form-group col-md-4">
                                <label for="city">City</label>
                                <input type="text" name="City" class="form-control" id="city" required value="">
                            </div>
                            <div class="form-group col-md-4">
                                <label for="zipCode">Zip/Postal Code</label>
                                <input type="text" name="ZipCode" class="form-control" id="zipCode" required value="">
                            </div>
                        </div>

                    </div>



                    @* <button type="submit" class="btn btn-primary btn-block">Next: Review & Payment</button> *@
                    @* <div class="h-captcha" data-sitekey="65162140-f168-4464-8894-805420629ed8" data-difficulty="easy"></div> *@
                    <div class="d-flex justify-content-center">
                        <div class="h-captcha" data-sitekey="4b1c1c66-a2b2-4c1a-acc2-554a91f80160" data-difficulty="easy"></div>
                    </div>
                    <div id="hcaptchaError" class="text-danger small text-center mt-2" style="display: none;">Please complete the captcha</div>
                </form>

            </div>


            <div class="col-md-4">
                <div id="div_SummaryPartialView1">
                    @* @Html.Partial("_index/_summary1") *@
                </div>
                <div id="div_SummaryPartialView">
                    @* @Html.Partial("_index/_summary") *@
                </div>


                <div class="summaryPackage d-none">
                    <div class="containerStay">
                        @*   <h4 class="mb-3">Add to your stay</h4> *@
                        <div id="div_PackagesPartialView"></div>

                    </div>
                </div>
            </div>
        </div>

    </div>

</div>

<!-- Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Account</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs" id="authTabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="login-tab" data-toggle="tab" href="#loginTab" role="tab">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="register-tab" data-toggle="tab" href="#registerTab" role="tab">Register</a>
                    </li>
                </ul>
                <div class="tab-content mt-3">
                    <div class="tab-pane fade show active" id="loginTab" role="tabpanel">
                        <form id="loginForm">
                            <div class="form-group">
                                <label for="loginEmail">Email</label>
                                <input type="email" class="form-control" id="loginEmail" required />
                            </div>
                            <div class="form-group">
                                <label for="loginPassword">Password</label>
                                <input type="password" class="form-control" id="loginPassword" required />
                            </div>
                            <button type="submit" class="btn btn-primary">Login</button>
                        </form>
                    </div>
                    <div class="tab-pane fade" id="registerTab" role="tabpanel">
                        <form id="registerForm">
                            <div class="form-group">
                                <label for="registerEmail">Email</label>
                                <input type="email" class="form-control" id="registerEmail" required />
                            </div>
                            <div class="form-group">
                                <label for="registerPassword">Password</label>
                                <input type="password" class="form-control" id="registerPassword" required />
                            </div>
                            <div class="form-group">
                                <label for="registerConfirmPassword">Confirm Password</label>
                                <input type="password" class="form-control" id="registerConfirmPassword" required />
                            </div>
                            <button type="submit" class="btn btn-primary">Register</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="guestCheckout">Continue as Guest</button>
            </div>
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script src="~/customjs/booking.js"></script>
@section Scripts {

}
<script>
    let captchaTotal = 0;









</script>


